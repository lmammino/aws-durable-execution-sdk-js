name: Sync Testing

on:
  push:
    branches: [ "development"]
    paths:
      - 'packages/aws-durable-execution-sdk-js-testing/**'
      
env:
  AWS_REGION : "us-west-2"

# permission can be added at job level or workflow level
permissions:
  id-token: write   # This is required for requesting the JWT
  contents: read    # This is required for actions/checkout

jobs:
  sync-aws-durable-execution-sdk-js-testing:
    uses: aws/aws-durable-execution-sdk-js/.github/workflows/sync-package.yml@development
    with:
      package_name: aws-durable-execution-sdk-js-testing
    secrets:
      S3_BUCKET_NAME: ${{ secrets.S3_BUCKET_NAME }}
      SYNC_LAMBDA_ARN: ${{ secrets.SYNC_LAMBDA_ARN }}
      GITFARM_LAN_SDK_REPO: ${{ secrets.GITFARM_TESTING_SDK_REPO }}
      GITFARM_LAN_SDK_BRANCH: ${{ secrets.GITFARM_LAN_SDK_BRANCH }}
      ACTIONS_SYNC_ROLE_NAME: ${{ secrets.ACTIONS_SYNC_ROLE_NAME }}
      
