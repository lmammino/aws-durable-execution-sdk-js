<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@aws/durable-execution-sdk-js-testing](./durable-execution-sdk-js-testing.md) &gt; [LocalDurableTestRunner](./durable-execution-sdk-js-testing.localdurabletestrunner.md) &gt; [setupTestEnvironment](./durable-execution-sdk-js-testing.localdurabletestrunner.setuptestenvironment.md)

## LocalDurableTestRunner.setupTestEnvironment() method

Sets up the test environment for local durable execution testing.

This method initializes the checkpoint server, configures fake timers for time manipulation, and prepares the environment for running durable function tests. This should be called once before running any tests, typically in a test setup hook like `beforeAll`<!-- -->.

**Signature:**

```typescript
static setupTestEnvironment(params?: LocalDurableTestRunnerSetupParameters): Promise<void>;
```

## Parameters

<table><thead><tr><th>

Parameter

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

params

</td><td>

[LocalDurableTestRunnerSetupParameters](./durable-execution-sdk-js-testing.localdurabletestrunnersetupparameters.md)

</td><td>

_(Optional)_ Optional configuration parameters for the test environment

</td></tr>
</tbody></table>

**Returns:**

Promise&lt;void&gt;

Promise that resolves when the test environment setup is complete

## Exceptions

Will throw an error if the checkpoint server fails to start

## Remarks

- If fake timers are already installed (for example, if `jest.useFakeTimers()` was called previously), this function will throw an error and setup will not succeed. - Must be paired with [LocalDurableTestRunner.teardownTestEnvironment()](./durable-execution-sdk-js-testing.localdurabletestrunner.teardowntestenvironment.md) to properly clean up resources

## Example

```typescript
import { LocalDurableTestRunner } from "@aws/durable-execution-sdk-js-testing";

// Basic setup
beforeAll(async () => {
  await LocalDurableTestRunner.setupTestEnvironment();
});

// Setup with time skipping enabled
beforeAll(async () => {
  await LocalDurableTestRunner.setupTestEnvironment({ skipTime: true });
});
```
