<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@aws/durable-execution-sdk-js](./durable-execution-sdk-js.md) &gt; [DurableContext](./durable-execution-sdk-js.durablecontext.md) &gt; [waitForCondition](./durable-execution-sdk-js.durablecontext.waitforcondition.md)

## DurableContext.waitForCondition() method

Waits for a condition to be met by periodically checking state

**Signature:**

```typescript
waitForCondition<TOutput>(name: string | undefined, checkFunc: WaitForConditionCheckFunc<TOutput, TLogger>, config: WaitForConditionConfig<TOutput>): DurablePromise<TOutput>;
```

## Parameters

<table><thead><tr><th>

Parameter

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

name

</td><td>

string \| undefined

</td><td>

Step name for tracking and debugging

</td></tr>
<tr><td>

checkFunc

</td><td>

[WaitForConditionCheckFunc](./durable-execution-sdk-js.waitforconditioncheckfunc.md)<!-- -->&lt;TOutput, TLogger&gt;

</td><td>

Function that checks the current state and returns updated state

</td></tr>
<tr><td>

config

</td><td>

[WaitForConditionConfig](./durable-execution-sdk-js.waitforconditionconfig.md)<!-- -->&lt;TOutput&gt;

</td><td>

Configuration for initial state, wait strategy, and serialization

</td></tr>
</tbody></table>

**Returns:**

[DurablePromise](./durable-execution-sdk-js.durablepromise.md)<!-- -->&lt;TOutput&gt;

## Example

```typescript
const finalState = await context.waitForCondition(
  "wait-for-job-completion",
  async (currentState, ctx) => {
    const jobStatus = await checkJobStatus(currentState.jobId);
    return { ...currentState, status: jobStatus };
  },
  {
    initialState: { jobId: "job-123", status: "pending" },
    waitStrategy: (state, attempt) => {
      if (state.status === "completed") {
        return { shouldContinue: false };
      }
      return {
        shouldContinue: true,
        delay: { seconds: Math.min(attempt * 2, 60) },
      };
    },
  },
);
```
